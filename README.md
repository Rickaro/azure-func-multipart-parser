# azure-func-multipart-parser

[![Build Status](https://travis-ci.com/safer-bwd/azure-func-multipart-parser.svg?branch=master)](https://travis-ci.com/safer-bwd/azure-func-multipart-parser)

Multipart form parser for Azure Functions JS 2.0.

Azure Functions JS 2.0 do not support _streams_, so using libraries like [parse-multipart](https://github.com/freesoftwarefactory/parse-multipart) or [multer](https://github.com/expressjs/multer) may not be easy.
So you can use this simple parser.

**Important:**
Do not use the parser for multipart form with big files.

## Install

```sh
npm install azure-func-multipart-parser --save
```

## API

<!-- Generated by documentation.js. Update this documentation by updating the source code. -->

#### Table of Contents

-   [parser](#parser)
    -   [getBoundary](#getboundary)
        -   [Parameters](#parameters)
    -   [parseBody](#parsebody)
        -   [Parameters](#parameters-1)
    -   [parse](#parse)
        -   [Parameters](#parameters-2)
-   [resultOfParsing](#resultofparsing)
    -   [Properties](#properties)
    -   [fileObject](#fileobject)
        -   [Properties](#properties-1)

### parser

Type: [Object](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object)

#### getBoundary

Get a boundary from request headers

##### Parameters

-   `headers` **[Object](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object)** The object of headers (`request.headers`)

Returns **[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)** 

#### parseBody

Parse a body with multipart form

##### Parameters

-   `body` **([string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String) \| [Buffer](https://nodejs.org/api/buffer.html))** The request body (`request.body`)
-   `boundary` **[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)** The multipart form boundary

Returns **[resultOfParsing](#resultofparsing)** 

#### parse

Parse a multipart form

##### Parameters

-   `request` **[Object](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object)** The request object

Returns **[resultOfParsing](#resultofparsing)** 

### resultOfParsing

Type: [Object](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object)

#### Properties

-   `fields` **[Object](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object)&lt;sting, sting>** Multipart form fields
-   `files` **[Object](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object)&lt;sting, fileObject>** Multipart form files

#### fileObject

Type: [Object](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object)

##### Properties

-   `filename` **[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)** The file name
-   `type` **[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)** The content type
-   `charset` **[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)** The charset
-   `encoding` **[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)** The Transfer encoding
-   `content` **[Buffer](https://nodejs.org/api/buffer.html)** The file content
